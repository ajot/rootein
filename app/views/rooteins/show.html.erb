<div class="max-w-md mx-auto mt-10">
    <h1 class="text-2xl font-bold mb-2"><%= @rootein.name %></h1>
    <p class="text-gray-600 mb-4">Current streak: <span class="font-bold text-green-600"><%= @rootein.current_streak %> days</span></p>

    <!-- Month navigation -->
    <div class="flex items-center justify-between mb-4">
      <%= link_to "â† Prev", rootein_path(@rootein, date: @date.prev_month),
          class: "text-blue-600 hover:underline" %>
      <span class="font-semibold text-lg"><%= @date.strftime("%B %Y") %></span>
      <%= link_to "Next â†’", rootein_path(@rootein, date: @date.next_month),
          class: "text-blue-600 hover:underline" %>
    </div>

    <!-- Day-of-week headers -->
    <div class="grid grid-cols-7 text-center text-sm font-medium text-gray-500 mb-1">
      <% %w[Sun Mon Tue Wed Thu Fri Sat].each do |day_name| %>
        <div><%= day_name %></div>
      <% end %>
    </div>

    <!-- Calendar grid -->
    <div class="grid grid-cols-7 text-center gap-1">
      <!-- Empty cells before the 1st -->
      <% @date.beginning_of_month.wday.times do %>
        <div></div>
      <% end %>

<!-- Day cells -->
      <% (@date.beginning_of_month..@date.end_of_month).each do |day| %>
        <% completed = @completions.include?(day) %>
        <% if completed %>
          <% completion = @rootein.completions.find_by(completed_on: day) %>
          <%= button_to rootein_completion_path(@rootein, completion),
              method: :delete,
              class: "p-2 rounded-lg text-sm w-full bg-green-500 text-white font-bold hover:bg-green-600 cursor-pointer" do %>
            <%= day.day %>
          <% end %>
        <% else %>
          <%= button_to rootein_completions_path(@rootein),
              params: { completed_on: day },
              class: "p-2 rounded-lg text-sm w-full bg-gray-100 hover:bg-gray-200 cursor-pointer" do %>
            <%= day.day %>
          <% end %>
        <% end %>
      <% end %>
    </div>
  </div>
</div>